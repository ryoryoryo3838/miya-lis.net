{
  "version": 3,
  "sources": ["../../../_build/default/src/output/node_modules/reason-react/ReasonReactRouter.js"],
  "sourcesContent": ["// Generated by Melange\n\nimport * as Curry from \"melange.js/curry.js\";\nimport * as React from \"react\";\n\nfunction safeMakeEvent(eventName) {\n  if (typeof Event === \"function\") {\n    return new Event(eventName);\n  }\n  const $$event = document.createEvent(\"Event\");\n  $$event.initEvent(eventName, true, true);\n  return $$event;\n}\n\nfunction pathParse(str) {\n  switch (str) {\n    case \"\" :\n    case \"/\" :\n      return /* [] */ 0;\n    default:\n      const raw = str.slice(1, undefined);\n      const match = raw[raw.length - 1 | 0];\n      const raw$1 = match === \"/\" ? raw.slice(0, -1) : raw;\n      const match$1 = raw$1.split(\"?\", 2);\n      const raw$2 = match$1.length !== 2 ? raw$1 : match$1[0];\n      let a = raw$2.split(\"/\", undefined).filter(function (item) {\n        return item.length !== 0;\n      });\n      let _i = a.length - 1 | 0;\n      let _res = /* [] */ 0;\n      while (true) {\n        const res = _res;\n        const i = _i;\n        if (i < 0) {\n          return res;\n        }\n        _res = {\n          hd: a[i],\n          tl: res\n        };\n        _i = i - 1 | 0;\n        continue;\n      };\n  }\n}\n\nfunction path(serverUrlString, param) {\n  const match = typeof window === \"undefined\" ? undefined : window;\n  if (serverUrlString !== undefined) {\n    return pathParse(serverUrlString);\n  } else if (match !== undefined) {\n    return pathParse(match.location.pathname);\n  } else {\n    return /* [] */ 0;\n  }\n}\n\nfunction hash(param) {\n  const $$window = typeof window === \"undefined\" ? undefined : window;\n  if ($$window === undefined) {\n    return \"\";\n  }\n  const raw = $$window.location.hash;\n  switch (raw) {\n    case \"\" :\n    case \"#\" :\n      return \"\";\n    default:\n      return raw.slice(1, undefined);\n  }\n}\n\nfunction searchParse(str) {\n  switch (str) {\n    case \"\" :\n    case \"?\" :\n      return \"\";\n    default:\n      const match = str.split(\"?\", 2);\n      if (match.length !== 2) {\n        return \"\";\n      } else {\n        return match[1];\n      }\n  }\n}\n\nfunction search(serverUrlString, param) {\n  const match = typeof window === \"undefined\" ? undefined : window;\n  if (serverUrlString !== undefined) {\n    return searchParse(serverUrlString);\n  } else if (match !== undefined) {\n    return searchParse(match.location.search);\n  } else {\n    return \"\";\n  }\n}\n\nfunction push(path) {\n  const match = typeof history === \"undefined\" ? undefined : history;\n  const match$1 = typeof window === \"undefined\" ? undefined : window;\n  if (match !== undefined && match$1 !== undefined) {\n    match.pushState(null, \"\", path);\n    match$1.dispatchEvent(safeMakeEvent(\"popstate\"));\n    return;\n  }\n  \n}\n\nfunction replace(path) {\n  const match = typeof history === \"undefined\" ? undefined : history;\n  const match$1 = typeof window === \"undefined\" ? undefined : window;\n  if (match !== undefined && match$1 !== undefined) {\n    match.replaceState(null, \"\", path);\n    match$1.dispatchEvent(safeMakeEvent(\"popstate\"));\n    return;\n  }\n  \n}\n\nfunction urlNotEqual(a, b) {\n  if (a.hash !== b.hash || a.search !== b.search) {\n    return true;\n  } else {\n    let _aList = a.path;\n    let _bList = b.path;\n    while (true) {\n      const bList = _bList;\n      const aList = _aList;\n      if (!aList) {\n        if (bList) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n      if (!bList) {\n        return true;\n      }\n      if (aList.hd !== bList.hd) {\n        return true;\n      }\n      _bList = bList.tl;\n      _aList = aList.tl;\n      continue;\n    };\n  }\n}\n\nfunction url(serverUrlString, param) {\n  return {\n    path: path(serverUrlString, undefined),\n    hash: hash(undefined),\n    search: search(serverUrlString, undefined)\n  };\n}\n\nfunction watchUrl(callback) {\n  const $$window = typeof window === \"undefined\" ? undefined : window;\n  if ($$window === undefined) {\n    return function (param) {\n      \n    };\n  }\n  const watcherID = function (param) {\n    Curry._1(callback, url(undefined, undefined));\n  };\n  $$window.addEventListener(\"popstate\", watcherID);\n  return watcherID;\n}\n\nfunction unwatchUrl(watcherID) {\n  const $$window = typeof window === \"undefined\" ? undefined : window;\n  if ($$window !== undefined) {\n    $$window.removeEventListener(\"popstate\", watcherID);\n    return;\n  }\n  \n}\n\nfunction useUrl(serverUrl, param) {\n  const match = React.useState(function () {\n    if (serverUrl !== undefined) {\n      return serverUrl;\n    } else {\n      return url(undefined, undefined);\n    }\n  });\n  const setUrl = match[1];\n  const url$1 = match[0];\n  React.useEffect((function () {\n    const watcherId = watchUrl(function (url) {\n      Curry._1(setUrl, (function (param) {\n        return url;\n      }));\n    });\n    const newUrl = url(undefined, undefined);\n    if (urlNotEqual(newUrl, url$1)) {\n      Curry._1(setUrl, (function (param) {\n        return newUrl;\n      }));\n    }\n    return (function (param) {\n      unwatchUrl(watcherId);\n    });\n  }), []);\n  return url$1;\n}\n\nconst dangerouslyGetInitialUrl = url;\n\nexport {\n  push,\n  replace,\n  watchUrl,\n  unwatchUrl,\n  dangerouslyGetInitialUrl,\n  useUrl,\n}\n/* react Not a pure module */\n"],
  "mappings": "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",
  "names": ["path", "url", "param"]
}
